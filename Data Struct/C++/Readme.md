# 杂谈


# 设计目标
- 重点是数据结构，而不是STL
STL使用了容器、迭代器、算法三个组件实现了容器和算法的隔离，这样是有代价的
1. 不清楚是否有运行时开销，听说都是编译期开销，而不是运行时
2. 所有的操作针对接口编程，参考Allocator的4个接口，还有很多的typedef或者using 如 valu_type、pointer、reference等
会导致代码量膨胀，是否值得待考虑
3. 该项目目的是为了学习，不是框架，不架构，重点在数据结构、基础算法本身，所以这两部分是独立的，即不考虑迭代器
4. 如果要兼容STL，需要做大量的改动，精力有限，所以不考虑


> 以下stl都指的是gcc的标准库实现
vector的实现中，size()的实现使用的是内部的_M_impl._M_finish - _M_impl._M_start来计算元素个数,就是老式迭代器(指针直接相减)
我用的是维护length成员变量，需要在增删元素时更新length值。
vector不论c++11,还是c++20，都是两倍当前大小扩充内存，只是20的逻辑更复杂


